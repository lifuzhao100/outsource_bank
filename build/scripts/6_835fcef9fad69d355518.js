(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/ROh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector,o=e;for(;o;){if(n.call(o,t))return o;o=o.parentElement}return null},e.exports=t.default},"2O2k":function(e,t,n){},"4Tk8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n("Fpq4")),r=s(n("JgvL")),i=s(n("vCi2")),a=s(n("KEpH"));function s(e){return e&&e.__esModule?e:{default:e}}r.default.alert=o.default,r.default.prompt=a.default,r.default.operation=i.default,t.default=r.default,e.exports=t.default},B7Ej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n("Kz1y")),r=f(n("Zv/C")),i=f(n("2lBV")),a=f(n("Dkg+")),s=f(n("Gjrs")),l=f(n("mXGw")),c=f(n("XEHH")),u=f(n("SPb6")),d=f(n("XYTq"));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){(0,r.default)(this,t);var e=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.scrollTo=function(){var t;return(t=e.listviewRef).scrollTo.apply(t,arguments)},e.getInnerViewNode=function(){return e.listviewRef.getInnerViewNode()},e}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=(0,u.default)(this.props,!1),n=t.restProps,r=t.extraProps;return l.default.createElement(c.default,(0,o.default)({ref:function(t){return e.listviewRef=t}},n,r))}}]),t}(l.default.Component);t.default=h,h.defaultProps={prefixCls:"am-list-view",listPrefixCls:"am-list"},h.DataSource=c.default.DataSource,h.IndexedList=d.default,e.exports=t.default},CfC2:function(e,t,n){"use strict";var o=n("KAlO");e.exports=function(e){if(Array.isArray(e))return 0===e.length;if("object"==typeof e){if(e)for(var t in!function(e){return"undefined"!=typeof Symbol&&e[Symbol.iterator]}(e)||void 0===e.size||o(!1),e)return!1;return!0}return!e}},DdUv:function(e,t,n){},Fpq4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[{text:"确定"}],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ios",l=!1;if(!e&&!t)return{close:function(){}};var c=document.createElement("div");function u(){r.default.unmountComponentAtNode(c),c&&c.parentNode&&c.parentNode.removeChild(c)}document.body.appendChild(c);var d=n.map(function(e){var t=e.onPress||function(){};return e.onPress=function(){if(!l){var e=t();e&&e.then?e.then(function(){l=!0,u()}).catch(function(){}):(l=!0,u())}},e}),f="am-modal";return r.default.render(o.default.createElement(a.default,{visible:!0,transparent:!0,title:e,transitionName:"am-zoom",closable:!1,maskClosable:!1,footer:d,maskTransitionName:"am-fade",platform:s,wrapProps:{onTouchStart:function(e){/iPhone|iPod|iPad/i.test(navigator.userAgent)&&((0,i.default)(e.target,"."+f+"-footer")||e.preventDefault())}}},o.default.createElement("div",{className:f+"-alert-content"},t)),c),{close:u}};var o=s(n("mXGw")),r=s(n("xARA")),i=s(n("/ROh")),a=s(n("JgvL"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},Gjfl:function(e,t,n){"use strict";n("asx4"),n("2O2k")},JgvL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalComponent=void 0;var o=h(n("Kz1y")),r=h(n("TcPG")),i=h(n("2lBV")),a=h(n("Zv/C")),s=h(n("Dkg+")),l=h(n("Gjrs")),c=h(n("8Jek")),u=h(n("mXGw")),d=h(n("8awf")),f=h(n("O1Y2"));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n},v=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"renderFooterButton",value:function(e,t,n){var o={};if(e.style&&"string"==typeof(o=e.style)){o={cancel:{},default:{},destructive:{color:"red"}}[o]||{}}return u.default.createElement(f.default,{activeClassName:t+"-button-active",key:n},u.default.createElement("a",{className:t+"-button",role:"button",style:o,onClick:function(t){t.preventDefault(),e.onPress&&e.onPress()}},e.text||"Button"))}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.prefixCls,a=n.className,s=n.wrapClassName,l=n.transitionName,f=n.maskTransitionName,h=n.style,v=n.platform,m=n.footer,g=void 0===m?[]:m,w=n.operation,y=n.animated,S=n.transparent,C=n.popup,_=n.animationType,R=p(n,["prefixCls","className","wrapClassName","transitionName","maskTransitionName","style","platform","footer","operation","animated","transparent","popup","animationType"]),b=(0,c.default)(i+"-button-group-"+(2!==g.length||w?"v":"h"),i+"-button-group-"+(w?"operation":"normal")),E=g.length?u.default.createElement("div",{className:b,role:"group"},g.map(function(e,n){return t.renderFooterButton(e,i,n)})):null,k=void 0,P=void 0;y&&(k=P=S?"am-fade":"am-slide-up",C&&(k="slide-up"===_?"am-slide-up":"am-slide-down",P="am-fade"));var N=(0,c.default)(s,(0,r.default)({},i+"-wrap-popup",C)),x=(0,c.default)(a,(e={},(0,r.default)(e,i+"-transparent",S),(0,r.default)(e,i+"-popup",C),(0,r.default)(e,i+"-popup-"+_,C&&_),(0,r.default)(e,i+"-android","android"===v),e));return u.default.createElement(d.default,(0,o.default)({},R,{prefixCls:i,className:x,wrapClassName:N,transitionName:l||k,maskTransitionName:f||P,style:h,footer:E}))}}]),t}(t.ModalComponent=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),t}(u.default.Component));t.default=v,v.defaultProps={prefixCls:"am-modal",transparent:!1,popup:!1,animationType:"slide-down",animated:!0,style:{},onShow:function(){},footer:[],closable:!1,operation:!1,platform:"ios"}},KEpH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["",""],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"ios",d=!1;if(l="string"==typeof l?l:"number"==typeof l?""+l:"",!n)return{close:function(){}};var f="am-modal",h={text:l};function p(e){var t=e.target,n=t.getAttribute("type");null!==n&&(h[n]=t.value)}function v(e){var t=e.currentTarget||e.target;t&&t.focus()}var m=void 0,g=function(e){setTimeout(function(){e&&e.focus()},500)};switch(s){case"login-password":m=o.default.createElement("div",{className:f+"-input-container"},o.default.createElement("div",{className:f+"-input"},o.default.createElement("label",null,o.default.createElement("input",{type:"text",defaultValue:h.text,ref:function(e){return g(e)},onClick:v,onChange:p,placeholder:c[0]}))),o.default.createElement("div",{className:f+"-input"},o.default.createElement("label",null,o.default.createElement("input",{type:"password",defaultValue:h.password,onClick:v,onChange:p,placeholder:c[1]}))));break;case"secure-text":m=o.default.createElement("div",{className:f+"-input-container"},o.default.createElement("div",{className:f+"-input"},o.default.createElement("label",null,o.default.createElement("input",{type:"password",defaultValue:h.password,ref:function(e){return g(e)},onClick:v,onChange:p,placeholder:c[0]}))));break;case"default":default:m=o.default.createElement("div",{className:f+"-input-container"},o.default.createElement("div",{className:f+"-input"},o.default.createElement("label",null,o.default.createElement("input",{type:"text",defaultValue:h.text,ref:function(e){return g(e)},onClick:v,onChange:p,placeholder:c[0]}))))}var w=o.default.createElement("div",null,t,m),y=document.createElement("div");function S(){r.default.unmountComponentAtNode(y),y&&y.parentNode&&y.parentNode.removeChild(y)}function C(e){if("function"==typeof e){var t=h.text,n=void 0===t?"":t,o=h.password,r=void 0===o?"":o,i="login-password"===s?[n,r]:"secure-text"===s?[r]:[n];return e.apply(void 0,i)}}document.body.appendChild(y);var _=void 0;_="function"==typeof n?[{text:"取消",onPress:function(){}},{text:"确定",onPress:function(){C(n)}}]:n.map(function(e){return{text:e.text,onPress:function(){return C(e.onPress)}}});var R=_.map(function(e){var t=e.onPress||function(){};return e.onPress=function(){if(!d){var e=t();e&&e.then?e.then(function(){d=!0,S()}).catch(function(){}):(d=!0,S())}},e});return r.default.render(o.default.createElement(a.default,{visible:!0,transparent:!0,prefixCls:f,title:e,closable:!1,maskClosable:!1,transitionName:"am-zoom",footer:R,maskTransitionName:"am-fade",platform:u,wrapProps:{onTouchStart:function(e){/iPhone|iPod|iPad/i.test(navigator.userAgent)&&((0,i.default)(e.target,"."+f+"-content")||e.preventDefault())}}},o.default.createElement("div",{className:f+"-propmt-content"},w)),y),{close:S}};var o=s(n("mXGw")),r=s(n("xARA")),i=s(n("/ROh")),a=s(n("JgvL"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},SPb6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.renderHeader,r=e.renderFooter,s=e.renderSectionHeader,l=e.renderBodyComponent,c=i(e,["renderHeader","renderFooter","renderSectionHeader","renderBodyComponent"]),u=e.listPrefixCls,d={renderHeader:null,renderFooter:null,renderSectionHeader:null,renderBodyComponent:l||function(){return o.default.createElement("div",{className:u+"-body"})}};n&&(d.renderHeader=function(){return o.default.createElement("div",{className:u+"-header"},n())});r&&(d.renderFooter=function(){return o.default.createElement("div",{className:u+"-footer"},r())});s&&(d.renderSectionHeader=t?function(e,t){return o.default.createElement("div",null,o.default.createElement(a,{prefixCls:u},s(e,t)))}:function(e,t){return o.default.createElement(a,{prefixCls:u},s(e,t))});return{restProps:c,extraProps:d}};var o=r(n("mXGw"));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n},a=r(n("5da2")).default.Item;e.exports=t.default},XEHH:function(e,t,n){"use strict";n.r(t);var o=n("Kz1y"),r=n.n(o),i=n("wQpU"),a=n.n(i),s=n("Zv/C"),l=n.n(s),c=n("2lBV"),u=n.n(c),d=n("Dkg+"),f=n.n(d),h=n("Gjrs"),p=n.n(h),v=n("mXGw"),m=n.n(v),g=n("W0B4"),w=n.n(g),y=n("xARA"),S=n.n(y),C=n("KAlO"),_=n.n(C),R=n("CfC2"),b=n.n(R),E=n("Og1j"),k=n.n(E);function P(e,t,n){return e[t][n]}function N(e,t){return e[t]}function x(e){if(b()(e))return{};for(var t={},n=0;n<e.length;n++){var o=e[n];k()(!t[o],"Value appears more than once in array: "+o),t[o]=!0}return t}var T=function(){function e(t){l()(this,e),_()(t&&"function"==typeof t.rowHasChanged,"Must provide a rowHasChanged function."),this._rowHasChanged=t.rowHasChanged,this._getRowData=t.getRowData||P,this._sectionHeaderHasChanged=t.sectionHeaderHasChanged,this._getSectionHeaderData=t.getSectionHeaderData||N,this._dataBlob=null,this._dirtyRows=[],this._dirtySections=[],this._cachedRowCount=0,this.rowIdentities=[],this.sectionIdentities=[]}return u()(e,[{key:"cloneWithRows",value:function(e,t){var n=t?[t]:null;return this._sectionHeaderHasChanged||(this._sectionHeaderHasChanged=function(){return!1}),this.cloneWithRowsAndSections({s1:e},["s1"],n)}},{key:"cloneWithRowsAndSections",value:function(t,n,o){_()("function"==typeof this._sectionHeaderHasChanged,"Must provide a sectionHeaderHasChanged function with section data."),_()(!n||!o||n.length===o.length,"row and section ids lengths must be the same");var r=new e({getRowData:this._getRowData,getSectionHeaderData:this._getSectionHeaderData,rowHasChanged:this._rowHasChanged,sectionHeaderHasChanged:this._sectionHeaderHasChanged});return r._dataBlob=t,r.sectionIdentities=n||Object.keys(t),o?r.rowIdentities=o:(r.rowIdentities=[],r.sectionIdentities.forEach(function(e){r.rowIdentities.push(Object.keys(t[e]))})),r._cachedRowCount=function(e){for(var t=0,n=0;n<e.length;n++){var o=e[n];t+=o.length}return t}(r.rowIdentities),r._calculateDirtyArrays(this._dataBlob,this.sectionIdentities,this.rowIdentities),r}},{key:"getRowCount",value:function(){return this._cachedRowCount}},{key:"getRowAndSectionCount",value:function(){return this._cachedRowCount+this.sectionIdentities.length}},{key:"rowShouldUpdate",value:function(e,t){var n=this._dirtyRows[e][t];return k()(void 0!==n,"missing dirtyBit for section, row: "+e+", "+t),n}},{key:"getRowData",value:function(e,t){var n=this.sectionIdentities[e],o=this.rowIdentities[e][t];return k()(void 0!==n&&void 0!==o,"rendering invalid section, row: "+e+", "+t),this._getRowData(this._dataBlob,n,o)}},{key:"getRowIDForFlatIndex",value:function(e){for(var t=e,n=0;n<this.sectionIdentities.length;n++){if(!(t>=this.rowIdentities[n].length))return this.rowIdentities[n][t];t-=this.rowIdentities[n].length}return null}},{key:"getSectionIDForFlatIndex",value:function(e){for(var t=e,n=0;n<this.sectionIdentities.length;n++){if(!(t>=this.rowIdentities[n].length))return this.sectionIdentities[n];t-=this.rowIdentities[n].length}return null}},{key:"getSectionLengths",value:function(){for(var e=[],t=0;t<this.sectionIdentities.length;t++)e.push(this.rowIdentities[t].length);return e}},{key:"sectionHeaderShouldUpdate",value:function(e){var t=this._dirtySections[e];return k()(void 0!==t,"missing dirtyBit for section: "+e),t}},{key:"getSectionHeaderData",value:function(e){if(!this._getSectionHeaderData)return null;var t=this.sectionIdentities[e];return k()(void 0!==t,"renderSection called on invalid section: "+e),this._getSectionHeaderData(this._dataBlob,t)}},{key:"_calculateDirtyArrays",value:function(e,t,n){for(var o,r=x(t),i={},a=0;a<n.length;a++){var s=t[a];k()(!i[s],"SectionID appears more than once: "+s),i[s]=x(n[a])}this._dirtySections=[],this._dirtyRows=[];for(var l=0;l<this.sectionIdentities.length;l++){o=!r[s=this.sectionIdentities[l]];var c=this._sectionHeaderHasChanged;!o&&c&&(o=c(this._getSectionHeaderData(e,s),this._getSectionHeaderData(this._dataBlob,s))),this._dirtySections.push(!!o),this._dirtyRows[l]=[];for(var u=0;u<this.rowIdentities[l].length;u++){var d=this.rowIdentities[l][u];o=!r[s]||!i[s][d]||this._rowHasChanged(this._getRowData(e,s,d),this._getRowData(this._dataBlob,s,d)),this._dirtyRows[l].push(!!o)}}}}]),e}(),L=n("8Jek"),H=n.n(L);var I={className:w.a.string,prefixCls:w.a.string,listPrefixCls:w.a.string,listViewPrefixCls:w.a.string,style:w.a.object,contentContainerStyle:w.a.object,onScroll:w.a.func},O=function(e){function t(){var e,n,o,r;l()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=o=f()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),D.call(o),r=n,f()(o,r)}return p()(t,e),u()(t,[{key:"componentWillUpdate",value:function(e){this.props.dataSource===e.dataSource&&this.props.initialListSize===e.initialListSize||!this.handleScroll||(this.props.useBodyScroll?window.removeEventListener("scroll",this.handleScroll):this.ScrollViewRef.removeEventListener("scroll",this.handleScroll))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.dataSource===e.dataSource&&this.props.initialListSize===e.initialListSize||!this.handleScroll||setTimeout(function(){t.props.useBodyScroll?window.addEventListener("scroll",t.handleScroll):t.ScrollViewRef.addEventListener("scroll",t.handleScroll)},0)}},{key:"componentDidMount",value:function(){var e,t,n,o,r=this,i=function(e){return r.props.onScroll&&r.props.onScroll(e,r.getMetrics())};this.props.scrollEventThrottle&&(e=i,t=this.props.scrollEventThrottle,n=!0,o=!0,i=function(r){n&&(n=!1,setTimeout(function(){n=!0,e(r)},t),o&&(e(r),o=!1))}),this.handleScroll=i,this.onLayout=function(){return r.props.onLayout({nativeEvent:{layout:{width:window.innerWidth,height:window.innerHeight}}})},this.props.useBodyScroll?(window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.onLayout)):this.ScrollViewRef.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.props.useBodyScroll?(window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.onLayout)):this.ScrollViewRef.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.className,i=t.prefixCls,a=t.listPrefixCls,s=t.listViewPrefixCls,l=t.style,c=void 0===l?{}:l,u=t.contentContainerStyle,d=void 0===u?{}:u,f=t.useBodyScroll,h=t.pullToRefresh,p=i||s||"",v={ref:function(t){return e.ScrollViewRef=t||e.ScrollViewRef},style:r()({},f?{}:{position:"relative",overflow:"auto",WebkitOverflowScrolling:"touch"},c),className:H()(o,p+"-scrollview")},g={ref:function(t){return e.InnerScrollViewRef=t},style:r()({position:"absolute",minWidth:"100%"},d),className:H()(p+"-scrollview-content",a)},w=function(t){return m.a.cloneElement(h,{getScrollContainer:t?function(){return document.body}:function(){return e.ScrollViewRef}},n)};return f?h?m.a.createElement("div",v,w(!0)):m.a.createElement("div",v,n):h?m.a.createElement("div",v,m.a.createElement("div",g,w())):m.a.createElement("div",v,m.a.createElement("div",g,n))}}]),t}(m.a.Component);O.propTypes=I;var D=function(){var e=this;this.getMetrics=function(){var t=!e.props.horizontal;if(e.props.useBodyScroll){var n=document.scrollingElement?document.scrollingElement:document.body;return{visibleLength:window[t?"innerHeight":"innerWidth"],contentLength:e.ScrollViewRef?e.ScrollViewRef[t?"scrollHeight":"scrollWidth"]:0,offset:n[t?"scrollTop":"scrollLeft"]}}return{visibleLength:e.ScrollViewRef[t?"offsetHeight":"offsetWidth"],contentLength:e.ScrollViewRef[t?"scrollHeight":"scrollWidth"],offset:e.ScrollViewRef[t?"scrollTop":"scrollLeft"]}},this.getInnerViewNode=function(){return e.InnerScrollViewRef},this.scrollTo=function(){var t;e.props.useBodyScroll?(t=window).scrollTo.apply(t,arguments):(e.ScrollViewRef.scrollLeft=arguments.length<=0?void 0:arguments[0],e.ScrollViewRef.scrollTop=arguments.length<=1?void 0:arguments[1])}},B=O,V=function(e){function t(){return l()(this,t),f()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return e.shouldUpdate}},{key:"render",value:function(){return this.props.render()}}]),t}(m.a.Component),M=function(e){function t(){var e,n,o,r;l()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=o=f()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),z.call(o),r=n,f()(o,r)}return p()(t,e),u()(t,[{key:"componentWillMount",value:function(){this.scrollProperties={visibleLength:null,contentLength:null,offset:0},this._childFrames=[],this._visibleRows={},this._prevRenderedRowsCount=0,this._sentEndForContentLength=null}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.dataSource===e.dataSource&&this.props.initialListSize===e.initialListSize||this.setState(function(n,o){return t._prevRenderedRowsCount=0,{curRenderedRowsCount:Math.min(Math.max(n.curRenderedRowsCount,e.initialListSize),e.dataSource.getRowCount())}},function(){return t._renderMoreRowsIfNeeded()})}},{key:"render",value:function(){for(var e=this,t=this.props.dataSource,n=t.rowIdentities,o=[],i=0,s=0;s<n.length;s++){var l=t.sectionIdentities[s],c=n[s];if(0!==c.length){var u=void 0;if(this.props.renderSectionHeader){var d=i>=this._prevRenderedRowsCount&&t.sectionHeaderShouldUpdate(s);u=m.a.createElement(V,{key:"s_"+l,shouldUpdate:!!d,render:this.props.renderSectionHeader.bind(null,t.getSectionHeaderData(s),l)})}for(var f=[],h=0;h<c.length;h++){var p=c[h],v=l+"_"+p,g=i>=this._prevRenderedRowsCount&&t.rowShouldUpdate(s,h),w=m.a.createElement(V,{key:"r_"+v,shouldUpdate:!!g,render:this.props.renderRow.bind(null,t.getRowData(s,h),l,p,this.onRowHighlighted)});if(f.push(w),this.props.renderSeparator&&(h!==c.length-1||s===n.length-1)){var y=this.state.highlightedRow.sectionID===l&&(this.state.highlightedRow.rowID===p||this.state.highlightedRow.rowID===c[h+1]),S=this.props.renderSeparator(l,p,y);S&&f.push(S)}if(++i===this.state.curRenderedRowsCount)break}var C=m.a.cloneElement(this.props.renderSectionBodyWrapper(l),{className:this.props.sectionBodyClassName},f);if(this.props.renderSectionWrapper?o.push(m.a.cloneElement(this.props.renderSectionWrapper(l),{},u,C)):(o.push(u),o.push(C)),i>=this.state.curRenderedRowsCount)break}}var _=this.props,R=_.renderScrollComponent,b=a()(_,["renderScrollComponent"]);return m.a.cloneElement(R(r()({},b,{onScroll:this._onScroll})),{ref:function(t){return e.ListViewRef=t},onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout},this.props.renderHeader?this.props.renderHeader():null,m.a.cloneElement(b.renderBodyComponent(),{},o),this.props.renderFooter?this.props.renderFooter():null,b.children)}}]),t}(m.a.Component);M.DataSource=T,M.propTypes=r()({},B.propTypes,{dataSource:w.a.instanceOf(T).isRequired,renderSeparator:w.a.func,renderRow:w.a.func.isRequired,initialListSize:w.a.number,onEndReached:w.a.func,onEndReachedThreshold:w.a.number,pageSize:w.a.number,renderFooter:w.a.func,renderHeader:w.a.func,renderSectionHeader:w.a.func,renderScrollComponent:w.a.func,scrollRenderAheadDistance:w.a.number,onChangeVisibleRows:w.a.func,scrollEventThrottle:w.a.number,renderBodyComponent:w.a.func,renderSectionWrapper:w.a.func,renderSectionBodyWrapper:w.a.func,sectionBodyClassName:w.a.string,listViewPrefixCls:w.a.string,useBodyScroll:w.a.bool}),M.defaultProps={initialListSize:10,pageSize:1,renderScrollComponent:function(e){return m.a.createElement(B,e)},renderBodyComponent:function(){return m.a.createElement("div",null)},renderSectionBodyWrapper:function(e){return m.a.createElement("div",{key:e})},sectionBodyClassName:"list-view-section-body",listViewPrefixCls:"rmc-list-view",scrollRenderAheadDistance:1e3,onEndReachedThreshold:1e3,scrollEventThrottle:50,scrollerOptions:{}};var z=function(){var e=this;this.state={curRenderedRowsCount:this.props.initialListSize,highlightedRow:{}},this.getMetrics=function(){return{contentLength:e.scrollProperties.contentLength,totalRows:e.props.dataSource.getRowCount(),renderedRows:e.state.curRenderedRowsCount,visibleRows:Object.keys(e._visibleRows).length}},this.getInnerViewNode=function(){return e.ListViewRef.getInnerViewNode()},this.scrollTo=function(){var t;e.ListViewRef&&e.ListViewRef.scrollTo&&(t=e.ListViewRef).scrollTo.apply(t,arguments)},this.onRowHighlighted=function(t,n){e.setState({highlightedRow:{sectionID:t,rowID:n}})},this._onContentSizeChange=function(t,n){var o=e.props.horizontal?t:n;o!==e.scrollProperties.contentLength&&(e.scrollProperties.contentLength=o,e._renderMoreRowsIfNeeded()),e.props.onContentSizeChange&&e.props.onContentSizeChange(t,n)},this._onLayout=function(t){var n=t.nativeEvent.layout,o=n.width,r=n.height,i=e.props.horizontal?o:r;i!==e.scrollProperties.visibleLength&&(e.scrollProperties.visibleLength=i,e._renderMoreRowsIfNeeded()),e.props.onLayout&&e.props.onLayout(t)},this._maybeCallOnEndReached=function(t){return!!(e.props.onEndReached&&e.scrollProperties.contentLength!==e._sentEndForContentLength&&e._getDistanceFromEnd(e.scrollProperties)<e.props.onEndReachedThreshold&&e.state.curRenderedRowsCount===e.props.dataSource.getRowCount())&&(e._sentEndForContentLength=e.scrollProperties.contentLength,e.props.onEndReached(t),!0)},this._renderMoreRowsIfNeeded=function(){null!==e.scrollProperties.contentLength&&null!==e.scrollProperties.visibleLength&&e.state.curRenderedRowsCount!==e.props.dataSource.getRowCount()?e._getDistanceFromEnd(e.scrollProperties)<e.props.scrollRenderAheadDistance&&e._pageInNewRows():e._maybeCallOnEndReached()},this._pageInNewRows=function(){e.setState(function(t,n){var o=Math.min(t.curRenderedRowsCount+n.pageSize,n.dataSource.getRowCount());return e._prevRenderedRowsCount=t.curRenderedRowsCount,{curRenderedRowsCount:o}},function(){e._prevRenderedRowsCount=e.state.curRenderedRowsCount})},this._getDistanceFromEnd=function(e){return e.contentLength-e.visibleLength-e.offset},this._onScroll=function(t,n){e.ListViewRef&&(e.scrollProperties=n,e._maybeCallOnEndReached(t)||e._renderMoreRowsIfNeeded(),e.props.onEndReached&&e._getDistanceFromEnd(e.scrollProperties)>e.props.onEndReachedThreshold&&(e._sentEndForContentLength=null),e.props.onScroll&&e.props.onScroll(t))}},j=M,A=n("TcPG"),q=n.n(A);function F(e){window.document.body.scrollTop=e,window.document.documentElement.scrollTop=e}var Q=function(e){function t(e){l()(this,t);var n=f()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return W.call(n),n.state={pageSize:e.pageSize,_delay:!1},n}return p()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.dataChange(this.props),this.getQsInfo()}},{key:"componentWillReceiveProps",value:function(e){this.props.dataSource!==e.dataSource&&this.dataChange(e)}},{key:"componentDidUpdate",value:function(){this.getQsInfo()}},{key:"componentWillUnmount",value:function(){this._timer&&clearTimeout(this._timer),this._hCache=null}},{key:"renderQuickSearchBar",value:function(e,t){var n=this,o=this.props,r=o.dataSource,i=o.prefixCls,a=r.sectionIdentities.map(function(e){return{value:e,label:r._getSectionHeaderData(r._dataBlob,e)}});return m.a.createElement("ul",{ref:function(e){return n.quickSearchBarRef=e},className:i+"-quick-search-bar",style:t,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchEnd},m.a.createElement("li",{"data-qf-target":e.value,onClick:function(){return n.onQuickSearchTop(void 0,e.value)}},e.label),a.map(function(e){return m.a.createElement("li",{key:e.value,"data-qf-target":e.value,onClick:function(){return n.onQuickSearch(e.value)}},e.label)}))}},{key:"render",value:function(){var e,t=this,n=this.state,o=n._delay,i=n.pageSize,s=this.props,l=s.className,c=s.prefixCls,u=s.children,d=s.quickSearchBarTop,f=s.quickSearchBarStyle,h=s.initialListSize,p=void 0===h?Math.min(20,this.props.dataSource.getRowCount()):h,v=s.showQuickSearchIndicator,g=s.renderSectionHeader,w=s.sectionHeaderClassName,y=a()(s,["className","prefixCls","children","quickSearchBarTop","quickSearchBarStyle","initialListSize","showQuickSearchIndicator","renderSectionHeader","sectionHeaderClassName"]);return m.a.createElement("div",{className:c+"-container"},o&&this.props.delayActivityIndicator,m.a.createElement(j,r()({},y,{ref:function(e){return t.indexedListViewRef=e},className:H()(c,l),initialListSize:p,pageSize:i,renderSectionHeader:function(e,n){return m.a.cloneElement(g(e,n),{ref:function(e){return t.sectionComponents[n]=e},className:w||c+"-section-header"})}}),u),this.renderQuickSearchBar(d,f),v?m.a.createElement("div",{className:H()((e={},q()(e,c+"-qsindicator",!0),q()(e,c+"-qsindicator-hide",!v||!this.state.showQuickSearchIndicator),e)),ref:function(e){return t.qsIndicatorRef=e}}):null)}}]),t}(m.a.Component);Q.propTypes=r()({},j.propTypes,{children:w.a.any,prefixCls:w.a.string,className:w.a.string,sectionHeaderClassName:w.a.string,quickSearchBarTop:w.a.object,quickSearchBarStyle:w.a.object,onQuickSearch:w.a.func,showQuickSearchIndicator:w.a.bool}),Q.defaultProps={prefixCls:"rmc-indexed-list",quickSearchBarTop:{value:"#",label:"#"},onQuickSearch:function(){},showQuickSearchIndicator:!1,delayTime:100,delayActivityIndicator:""};var W=function(){var e=this;this.onQuickSearchTop=function(t,n){e.props.useBodyScroll?F(0):S.a.findDOMNode(e.indexedListViewRef.ListViewRef).scrollTop=0,e.props.onQuickSearch(t,n)},this.onQuickSearch=function(t){var n=S.a.findDOMNode(e.indexedListViewRef.ListViewRef),o=S.a.findDOMNode(e.sectionComponents[t]);e.props.useBodyScroll?F(o.getBoundingClientRect().top-n.getBoundingClientRect().top+function(e){var t=0;do{isNaN(e.offsetTop)||(t+=e.offsetTop)}while(e=e.offsetParent);return t}(n)):n.scrollTop+=o.getBoundingClientRect().top-n.getBoundingClientRect().top,e.props.onQuickSearch(t)},this.onTouchStart=function(t){e._target=t.target,e._basePos=e.quickSearchBarRef.getBoundingClientRect(),document.addEventListener("touchmove",e._disableParent,!1),document.body.className=document.body.className+" "+e.props.prefixCls+"-qsb-moving",e.updateIndicator(e._target)},this.onTouchMove=function(t){if(t.preventDefault(),e._target){var n=function(e){return e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(t),o=e._basePos,r=void 0;if(n.clientY>=o.top&&n.clientY<=o.top+e._qsHeight){var i=void 0;if((r=Math.floor((n.clientY-o.top)/e._avgH))in e._hCache&&(i=e._hCache[r][0]),i){var a=i.getAttribute("data-qf-target");e._target!==i&&(e.props.quickSearchBarTop.value===a?e.onQuickSearchTop(void 0,a):e.onQuickSearch(a),e.updateIndicator(i)),e._target=i}}}},this.onTouchEnd=function(){e._target&&(document.removeEventListener("touchmove",e._disableParent,!1),document.body.className=document.body.className.replace(new RegExp("\\s*"+e.props.prefixCls+"-qsb-moving","g"),""),e.updateIndicator(e._target,!0),e._target=null)},this.getQsInfo=function(){var t=e.quickSearchBarRef,n=t.offsetHeight,o=[];[].slice.call(t.querySelectorAll("[data-qf-target]")).forEach(function(e){o.push([e])});for(var r=n/o.length,i=0,a=0,s=o.length;a<s;a++)i=a*r,o[a][1]=[i,i+r];e._qsHeight=n,e._avgH=r,e._hCache=o},this.sectionComponents={},this.dataChange=function(t){var n=t.dataSource.getRowCount();n&&(e.setState({_delay:!0}),e._timer&&clearTimeout(e._timer),e._timer=setTimeout(function(){e.setState({pageSize:n,_delay:!1},function(){return e.indexedListViewRef._pageInNewRows()})},t.delayTime))},this.updateIndicator=function(t,n){var o=t;o.getAttribute("data-qf-target")||(o=o.parentNode),e.props.showQuickSearchIndicator&&(e.qsIndicatorRef.innerText=o.innerText.trim(),e.setState({showQuickSearchIndicator:!0}),e._indicatorTimer&&clearTimeout(e._indicatorTimer),e._indicatorTimer=setTimeout(function(){e.setState({showQuickSearchIndicator:!1})},1e3));var r=e.props.prefixCls+"-quick-search-bar-over";e._hCache.forEach(function(e){e[0].className=e[0].className.replace(r,"")}),n||(o.className=o.className+" "+r)},this._disableParent=function(e){e.preventDefault(),e.stopPropagation()}},U=Q;n.d(t,"DataSource",function(){return G}),n.d(t,"IndexedList",function(){return U}),j.IndexedList=U;var G=j.DataSource;t.default=j},XYTq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n("Kz1y")),r=d(n("Zv/C")),i=d(n("2lBV")),a=d(n("Dkg+")),s=d(n("Gjrs")),l=d(n("mXGw")),c=d(n("XEHH")),u=d(n("SPb6"));function d(e){return e&&e.__esModule?e:{default:e}}var f=c.default.IndexedList,h=function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.listPrefixCls,i=(0,u.default)(this.props,!0),a=i.restProps,s=i.extraProps;return l.default.createElement(f,(0,o.default)({ref:function(t){return e.indexedListRef=t},sectionHeaderClassName:n+"-section-header "+r+"-body",sectionBodyClassName:n+"-section-body "+r+"-body"},a,s),this.props.children)}}]),t}(l.default.Component);t.default=h,h.defaultProps={prefixCls:"am-indexed-list",listPrefixCls:"am-list",listViewPrefixCls:"am-list-view"},e.exports=t.default},vCi2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{text:"确定"}],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ios",n=!1,s=document.createElement("div");function l(){r.default.unmountComponentAtNode(s),s&&s.parentNode&&s.parentNode.removeChild(s)}document.body.appendChild(s);var c=e.map(function(e){var t=e.onPress||function(){};return e.onPress=function(){if(!n){var e=t();e&&e.then?e.then(function(){n=!0,l()}).catch(function(){}):(n=!0,l())}},e});return r.default.render(o.default.createElement(a.default,{visible:!0,operation:!0,transparent:!0,prefixCls:"am-modal",transitionName:"am-zoom",closable:!1,maskClosable:!0,onClose:l,footer:c,maskTransitionName:"am-fade",className:"am-modal-operation",platform:t,wrapProps:{onTouchStart:function(e){/iPhone|iPod|iPad/i.test(navigator.userAgent)&&((0,i.default)(e.target,".am-modal-footer")||e.preventDefault())}}}),s),{close:l}};var o=s(n("mXGw")),r=s(n("xARA")),i=s(n("/ROh")),a=s(n("JgvL"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},xwHp:function(e,t,n){"use strict";n("asx4"),n("Nt9i"),n("DdUv")}}]);
//# sourceMappingURL=6_835fcef9fad69d355518.js.map