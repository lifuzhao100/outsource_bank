{"version":3,"sources":["webpack:///./less/index.mobile.less?7849","webpack:///./stores/index_index.js","webpack:///./imgs/banner.png","webpack:///./imgs/head.png","webpack:///./pages_mobile/index/index.js","webpack:///./imgs/bottom.png","webpack:///./helpers/multiple_class.js"],"names":["module","exports","index","grid-section","img","map-container","_mobx","__webpack_require__","Store","observable","p","_react","_mobxReact","Index","observer","getUserLocation","axios","get","then","res","_res$data","data","appId","timestamp","nonceStr","signature","wx","config","debug","jsApiList","ready","getLocation","type","success","latitude","longitude","speed","accuracy","alert","loadScript","window","init","_this","initMap","script","document","createElement","src","body","appendChild","mapContainer","getElementById","style","height","myOptions","zoom","center","qq","maps","LatLng","mapTypeId","MapTypeId","ROADMAP","Map","getIndexList","resData","store","index_list","catch","Component","list","Array","from","_react2","default","className","_multiple_class2","styles","_wingBlank2","banner","width","head","_grid2","columnNum","renderItem","dataItem","href","url","logo","id","bottom","this","styleObj","classStr","trim","split","map","key","join"],"mappings":"+EACAA,EAAAC,SAAkBC,MAAA,wBAAAC,eAAA,0BAAAC,IAAA,yBAAAC,gBAAA,uHCDlB,IAAAC,EAAAC,EAAA,wBACMC,+VACJC,qdAEa,IAAID,wBCJnBR,EAAAC,QAAAM,EAAAG,EAAA,wECAAV,EAAAC,QAAAM,EAAAG,EAAA,ibCAA,IAAAC,EAAAJ,EAAA,mBAEAA,EAAA,aACAA,EAAA,aACAA,EAAA,aACAA,EAAA,aACAA,EAAA,SACAK,EAAAL,EAAA,YACAA,EAAA,aACAA,EAAA,WACAA,EAAA,mOAEMM,KADLC,yTAqCAC,gBAAkB,WACjBC,UAAMC,IAAI,oBACRC,KAAK,SAAAC,GAAO,IAAAC,EACmCD,EAAIE,KAA7CC,EADMF,EACNE,MAAOC,EADDH,EACCG,UAAWC,EADZJ,EACYI,SAAUC,EADtBL,EACsBK,UAClCC,GAAGC,QACFC,OAAO,EACPN,QACAC,YACAC,WACAC,YACAI,WAAY,iBAEbH,GAAGI,MAAM,WACRJ,GAAGK,aACFC,KAAM,QACNC,QAAS,SAAUd,GAClB,IAAIe,EAAWf,EAAIe,SACfC,EAAYhB,EAAIgB,UACRhB,EAAIiB,MACDjB,EAAIkB,SACnBC,MAAMJ,EAAUC,aAMtBI,WAAa,WACZC,OAAOC,KAAOC,EAAKC,QACnB,IAAIC,EAASC,SAASC,cAAc,UACpCF,EAAOZ,KAAO,kBACdY,EAAOG,IAAM,iDACbF,SAASG,KAAKC,YAAYL,MAE3BD,QAAU,WACT,IAAIO,EAAeL,SAASM,eAAe,aAC3CD,EAAaE,MAAMC,OAAS,QAC5B,IACIC,GACHC,KAAM,EACNC,OAHc,IAAIC,GAAGC,KAAKC,QAAQ,OAAQ,SAI1CC,UAAWH,GAAGC,KAAKG,UAAUC,SAEpB,IAAIL,GAAGC,KAAKK,IAAIb,EAAcI,MAEzCU,aAAe,WACdhD,UAAMC,IAAI,mBACRC,KAAK,SAAAC,GACL,IAAI8C,EAAU9C,EAAIE,KAClB6C,UAAMC,WAAaF,IAEnBG,MAAM,SAAAjD,iVAtFUkD,iDAElB,IAAIC,EAAOC,MAAMC,KAAKN,UAAMC,YAC5B,OACCM,EAAAC,QAAA5B,cAAA,OAAK6B,WAAW,EAAAC,EAAAF,SAAcG,UAAQ,UACrCJ,EAAAC,QAAA5B,cAAAgC,EAAAJ,QAAA,KACCD,EAAAC,QAAA5B,cAAA,WACC2B,EAAAC,QAAA5B,cAAA,OAAKC,IAAKgC,UAAQ3B,OAAQ4B,MAAO,WAElCP,EAAAC,QAAA5B,cAAA,WAAS6B,WAAW,EAAAC,EAAAF,SAAcG,UAAQ,iBACzCJ,EAAAC,QAAA5B,cAAA,UACC2B,EAAAC,QAAA5B,cAAA,OAAKC,IAAKkC,UAAM7B,OAAQ4B,MAAO,WAEhCP,EAAAC,QAAA5B,cAAAoC,EAAAR,SACCS,UAAW,EACX9D,KAAMiD,EACNc,WAAY,SAAAC,GAAA,OACXZ,EAAAC,QAAA5B,cAAA,KAAGwC,KAAMD,EAASE,KACjBd,EAAAC,QAAA5B,cAAA,OAAKC,IAAKsC,EAASG,KAAMpC,OAAQ4B,MAAO,eAK5CP,EAAAC,QAAA5B,cAAA,OAAK6B,WAAW,EAAAC,EAAAF,SAAcG,UAAO,kBACpCJ,EAAAC,QAAA5B,cAAA,OAAK2C,GAAG,aACPhB,EAAAC,QAAA5B,cAAA,OAAKC,IAAK2C,UAAQf,WAAW,EAAAC,EAAAF,SAAcG,UAAQ,yDAQxDc,KAAK3B,eACL2B,KAAK5E,yCAyDQF,wBCvGfb,EAAAC,QAAAM,EAAAG,EAAA,gJCAoB,SAACkF,EAAUC,GAC9B,OAAOA,EAASC,OAAOC,MAAM,OAAOC,IAAI,SAAAC,GAAA,OAAOL,EAASK,KAAMC,KAAK","file":"scripts/16_b8d406b533a7c30dc883.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"index\":\"NBTPEOnHPEEn5tPSF1w_c\",\"grid-section\":\"_2HIMQYkQoRe0NzHL-mjblU\",\"img\":\"_7B8iEwl_segTVQfEhQLSk\",\"map-container\":\"_2L8er1C0yOPM8g0-BTddMK\"};","import { observable } from 'mobx';\r\nclass Store {\r\n\t@observable index_list = [];\r\n}\r\nexport default new Store();","module.exports = __webpack_public_path__ + \"imgs/banner5bb9a1d8a76d20e4bc38f38499b875c4.png\";","module.exports = __webpack_public_path__ + \"imgs/head5665e6c983402ad1611fa7033de8ac95.png\";","import React, { Component } from 'react';\r\nimport { WingBlank, Grid } from 'antd-mobile';\r\nimport banner from '../../imgs/banner.png';\r\nimport head from '../../imgs/head.png';\r\nimport bottom from '../../imgs/bottom.png';\r\nimport styles from '../../less/index.mobile.less';\r\nimport multipleClass from '../../helpers/multiple_class';\r\nimport { observer } from 'mobx-react';\r\nimport store from '../../stores/index_index';\r\nimport axios from 'axios';\r\nimport getWxToken from '../../helpers/fresh_token';\r\n@observer\r\nclass Index extends Component{\r\n\trender(){\r\n\t\tlet list = Array.from(store.index_list);\r\n\t\treturn (\r\n\t\t\t<div className={multipleClass(styles, 'index')}>\r\n\t\t\t\t<WingBlank>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<img src={banner} style={{width: '100%'}}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<section className={multipleClass(styles, 'grid-section')}>\r\n\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t<img src={head} style={{width: '100%'}}/>\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\tcolumnNum={3}\r\n\t\t\t\t\t\t\tdata={list}\r\n\t\t\t\t\t\t\trenderItem={dataItem => (\r\n\t\t\t\t\t\t\t\t<a href={dataItem.url}>\r\n\t\t\t\t\t\t\t\t\t<img src={dataItem.logo} style={{width: '100%'}}/>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\t<div className={multipleClass(styles,'map-container')}>\r\n\t\t\t\t\t\t<div id='container' >\r\n\t\t\t\t\t\t\t<img src={bottom} className={multipleClass(styles, 'img')}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</WingBlank>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.getIndexList();\r\n\t\tthis.getUserLocation();\r\n\t}\r\n\tgetUserLocation = () => {\r\n\t\taxios.get('/api/v1/location')\r\n\t\t\t.then(res => {\r\n\t\t\t\tlet { appId, timestamp, nonceStr, signature} = res.data;\r\n\t\t\t\twx.config({\r\n\t\t\t\t\tdebug: true,\r\n\t\t\t\t\tappId,\r\n\t\t\t\t\ttimestamp,\r\n\t\t\t\t\tnonceStr,\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tjsApiList: ['getLocation']\r\n\t\t\t\t});\r\n\t\t\t\twx.ready(() => {\r\n\t\t\t\t\twx.getLocation({\r\n\t\t\t\t\t\ttype: 'wgs84', // 默认为wgs84的gps坐标，如果要返回直接给openLocation用的火星坐标，可传入'gcj02'\r\n\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\tvar latitude = res.latitude; // 纬度，浮点数，范围为90 ~ -90\r\n\t\t\t\t\t\t\tvar longitude = res.longitude; // 经度，浮点数，范围为180 ~ -180。\r\n\t\t\t\t\t\t\tvar speed = res.speed; // 速度，以米/每秒计\r\n\t\t\t\t\t\t\tvar accuracy = res.accuracy; // 位置精度\r\n\t\t\t\t\t\t\talert(latitude, longitude);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t};\r\n\tloadScript = () => {\r\n\t\twindow.init = this.initMap;\r\n\t\tlet script = document.createElement(\"script\");\r\n\t\tscript.type = \"text/javascript\";\r\n\t\tscript.src = \"http://map.qq.com/api/js?v=2.exp&callback=init\";\r\n\t\tdocument.body.appendChild(script);\r\n\t};\r\n\tinitMap = () => {\r\n\t\tlet mapContainer = document.getElementById('container');\r\n\t\tmapContainer.style.height = '220px';\r\n\t\tlet myLatlng = new qq.maps.LatLng(-34.397, 150.644);\r\n\t\tlet myOptions = {\r\n\t\t\tzoom: 8,\r\n\t\t\tcenter: myLatlng,\r\n\t\t\tmapTypeId: qq.maps.MapTypeId.ROADMAP\r\n\t\t};\r\n\t\tlet map = new qq.maps.Map(mapContainer, myOptions);\r\n\t};\r\n\tgetIndexList = () => {\r\n\t\taxios.get('/api/v1/wx/navs')\r\n\t\t\t.then(res => {\r\n\t\t\t\tlet resData = res.data;\r\n\t\t\t\tstore.index_list = resData;\r\n\t\t\t})\r\n\t\t\t.catch(res => {\r\n\r\n\t\t\t})\r\n\t}\r\n}\r\nexport default Index;","module.exports = __webpack_public_path__ + \"imgs/bottomdeb552c1a1d2eed07d5b4817e8f6be20.png\";","let multipleClass = (styleObj, classStr) => {\r\n\treturn classStr.trim().split(/\\s+/).map(key => styleObj[key]).join(' ');\r\n};\r\nexport default multipleClass;"],"sourceRoot":""}